/* --- Glitch Pits - CRT + Glitch Aesthetic --- */

/* Custom cursor: hide default pointer/hand everywhere when active */
.custom-cursor-active,
.custom-cursor-active * {
  cursor: none !important;
}

/* Cursor glow + pulse when over clickable elements (no hand pointer) */
@keyframes cursor-pulse {
  0%, 100% { transform: scale(1); opacity: 1; }
  50% { transform: scale(1.35); opacity: 0.95; }
}
.custom-cursor-dot-inner.custom-cursor-dot--clickable {
  animation: cursor-pulse 0.6s ease-in-out infinite;
}

/* 1. The Scanline Overlay (Glitch-Noir: faint CRT) */
.scanlines {
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: 50;
  background: linear-gradient(
      rgba(18, 16, 16, 0) 50%,
      rgba(0, 0, 0, 0.25) 50%
    ),
    linear-gradient(
      90deg,
      rgba(255, 0, 0, 0.06),
      rgba(0, 255, 0, 0.02),
      rgba(0, 0, 255, 0.06)
    );
  background-size: 100% 4px, 3px 100%;
}

/* 2. The Text Glitch Effect */
.glitch-text {
  position: relative;
  font-weight: bold;
  text-transform: uppercase;
  text-shadow: 0.05em 0 0 var(--glitch-red),
    -0.025em -0.05em 0 var(--glitch-blue), 0.025em 0.05em 0 var(--glitch-green);
  animation: glitch 500ms infinite;
}

.glitch-text::before,
.glitch-text::after {
  content: attr(data-text);
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  opacity: 0.8;
}

.glitch-text::before {
  animation: glitch-anim 650ms infinite;
  clip-path: polygon(0 0, 100% 0, 100% 45%, 0 45%);
  transform: translate(-0.025em, -0.0125em);
  color: var(--glitch-red);
}

.glitch-text::after {
  animation: glitch-anim-2 375ms infinite;
  clip-path: polygon(0 80%, 100% 20%, 100% 100%, 0 100%);
  transform: translate(0.0125em, 0.025em);
  color: var(--glitch-blue);
}

/* Keyframes for the chaos */
@keyframes glitch {
  0% {
    text-shadow: 0.05em 0 0 var(--glitch-red),
      -0.05em -0.025em 0 var(--glitch-blue);
  }
  14% {
    text-shadow: 0.05em 0 0 var(--glitch-red),
      -0.05em -0.025em 0 var(--glitch-blue);
  }
  15% {
    text-shadow: -0.05em -0.025em 0 var(--glitch-red),
      0.025em 0.025em 0 var(--glitch-blue);
  }
  49% {
    text-shadow: -0.05em -0.025em 0 var(--glitch-red),
      0.025em 0.025em 0 var(--glitch-blue);
  }
  50% {
    text-shadow: 0.025em 0.05em 0 var(--glitch-red),
      0.05em 0 0 var(--glitch-blue);
  }
  99% {
    text-shadow: 0.025em 0.05em 0 var(--glitch-red),
      0.05em 0 0 var(--glitch-blue);
  }
  100% {
    text-shadow: -0.025em 0 0 var(--glitch-red),
      -0.025em -0.025em 0 var(--glitch-blue);
  }
}

@keyframes glitch-anim {
  0% {
    clip-path: polygon(0 2%, 100% 2%, 100% 5%, 0 5%);
  }
  20% {
    clip-path: polygon(0 15%, 100% 15%, 100% 15%, 0 15%);
  }
  40% {
    clip-path: polygon(0 10%, 100% 10%, 100% 20%, 0 20%);
  }
  60% {
    clip-path: polygon(0 1%, 100% 1%, 100% 2%, 0 2%);
  }
  80% {
    clip-path: polygon(0 33%, 100% 33%, 100% 33%, 0 33%);
  }
  100% {
    clip-path: polygon(0 44%, 100% 44%, 100% 44%, 0 44%);
  }
}

@keyframes glitch-anim-2 {
  0% {
    clip-path: polygon(0 25%, 100% 25%, 100% 30%, 0 30%);
  }
  20% {
    clip-path: polygon(0 3%, 100% 3%, 100% 3%, 0 3%);
  }
  40% {
    clip-path: polygon(0 5%, 100% 5%, 100% 20%, 0 20%);
  }
  60% {
    clip-path: polygon(0 20%, 100% 20%, 100% 20%, 0 20%);
  }
  80% {
    clip-path: polygon(0 2%, 100% 2%, 100% 5%, 0 5%);
  }
  100% {
    clip-path: polygon(0 25%, 100% 25%, 100% 25%, 0 25%);
  }
}

/* 3. Pixel Buttons - compact for fit-to-viewport */
.pixel-btn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  font-family: "Press Start 2P", monospace;
  font-size: 9px;
  padding: 8px 14px;
  border: 2px solid #4a4a4a;
  background: #2a2a2a;
  color: #fff;
  image-rendering: pixelated;
  box-shadow:
    3px 3px 0 #1a1a1a,
    inset 0 1px 0 rgba(255, 255, 255, 0.08);
  transition: transform 0.15s, box-shadow 0.15s, background 0.15s;
}

.pixel-btn:hover:not(:disabled) {
  background: #3a3a3a;
  transform: translate(-2px, -2px);
  box-shadow:
    6px 6px 0 #1a1a1a,
    0 0 20px rgba(255, 105, 180, 0.2);
}

.pixel-btn:active:not(:disabled) {
  transform: translate(1px, 1px);
  box-shadow: 2px 2px 0 #1a1a1a;
}

.pixel-btn:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

.pixel-btn-accent {
  border-color: var(--glitch-pink);
  background: linear-gradient(180deg, var(--glitch-pink) 0%, #e0559a 100%);
  color: #fff;
  font-size: 10px;
  padding: 10px 18px;
  box-shadow:
    3px 3px 0 var(--glitch-purple),
    0 0 20px rgba(255, 105, 180, 0.2),
    inset 0 1px 0 rgba(255, 255, 255, 0.3);
}

.pixel-btn-accent:hover:not(:disabled) {
  background: linear-gradient(180deg, #ff7ec5 0%, var(--glitch-pink) 100%);
  box-shadow:
    6px 6px 0 var(--glitch-purple),
    0 0 40px rgba(255, 105, 180, 0.4);
  transform: translate(-2px, -2px);
}

/* 4. The "Static" Background Flickering */
.bg-static {
  animation: static-flicker 0.2s infinite;
  background-image: url("https://www.transparenttextures.com/patterns/stardust.png");
  opacity: 0.05;
  position: absolute;
  inset: 0;
  z-index: -1;
}

@keyframes static-flicker {
  0% {
    transform: translate(0, 0);
  }
  10% {
    transform: translate(-1px, -1px);
  }
  30% {
    transform: translate(1px, 1px);
  }
  50% {
    transform: translate(-1px, 1px);
  }
  100% {
    transform: translate(0, 0);
  }
}

/* --- COLORS-style box dashboards + interactive motion --- */

/* Card/box panels (COLORS layout) */
.game-box {
  border: 2px solid rgba(255, 105, 180, 0.5);
  background: var(--bg-card);
  border-radius: 6px;
  padding: 0.5rem 0.75rem;
  box-shadow:
    0 0 16px rgba(255, 105, 180, 0.1),
    inset 0 1px 0 rgba(255, 255, 255, 0.06);
  transition: box-shadow 0.2s, border-color 0.2s;
}

.game-box:hover {
  box-shadow: 0 0 24px rgba(255, 105, 180, 0.18);
  border-color: rgba(255, 105, 180, 0.65);
}

.game-box-label {
  font-family: "Press Start 2P", monospace;
  font-size: 8px;
  letter-spacing: 0.06em;
  color: var(--text-muted);
  margin-bottom: 0.25rem;
  text-transform: uppercase;
}

/* Arena decorative side panel grid */
.arena-decor-grid {
  background-image: linear-gradient(rgba(255, 105, 180, 0.15) 1px, transparent 1px),
    linear-gradient(90deg, rgba(255, 105, 180, 0.15) 1px, transparent 1px);
  background-size: 12px 12px;
}

/* Main arena section: subtle center glow so it doesn’t feel empty */
.arena-section {
  background: radial-gradient(
    ellipse 80% 70% at 50% 50%,
    rgba(255, 105, 180, 0.04) 0%,
    transparent 60%
  );
}

/* Glow pulse for balance / important numbers */
@keyframes pulse-glow {
  0%,
  100% {
    text-shadow: 0 0 8px rgba(0, 212, 170, 0.4);
  }
  50% {
    text-shadow: 0 0 16px rgba(0, 212, 170, 0.7);
  }
}

.animate-pulse-glow {
  animation: pulse-glow 2s ease-in-out infinite;
}

/* Brief flash when balance increases (win) */
@keyframes balance-pop {
  0% {
    transform: scale(1);
    text-shadow: 0 0 8px rgba(0, 212, 170, 0.4);
  }
  30% {
    transform: scale(1.08);
    text-shadow: 0 0 24px rgba(0, 212, 170, 0.9);
  }
  100% {
    transform: scale(1);
    text-shadow: 0 0 12px rgba(0, 212, 170, 0.5);
  }
}

.balance-updated {
  animation: balance-pop 0.6s ease-out;
}

/* Subtle float for pixel character */
@keyframes pixel-float {
  0%,
  100% {
    transform: translateY(0);
  }
  50% {
    transform: translateY(-4px);
  }
}

@keyframes pixel-blink {
  0%,
  40%,
  60%,
  100% {
    opacity: 1;
  }
  50% {
    opacity: 0.75;
  }
}

/* Idle “breathing” glow for pixel characters */
@keyframes pixel-glow {
  0%,
  100% {
    filter: brightness(1);
  }
  50% {
    filter: brightness(1.15);
  }
}

.animate-pixel-float {
  animation: pixel-float 2.5s ease-in-out infinite;
}

.animate-pixel-idle {
  animation: pixel-float 2.5s ease-in-out infinite, pixel-blink 2s ease-in-out infinite, pixel-glow 2.5s ease-in-out infinite;
}

.animate-pixel-blink {
  animation: pixel-blink 3s ease-in-out infinite;
}

/* Button lift on hover (interactive) */
.pixel-btn-interactive:hover:not(:disabled) {
  transform: translateY(-2px);
  box-shadow:
    6px 6px 0 var(--glitch-purple),
    0 4px 20px rgba(255, 105, 180, 0.35);
}

/* --- Glitch Pits animated logo --- */
@keyframes logo-glitch {
  0%, 90%, 100% {
    transform: translate(0, 0);
    text-shadow: 0 0 12px rgba(255, 105, 180, 0.6);
  }
  92% {
    transform: translate(-2px, 1px);
    text-shadow: 2px 0 0 var(--glitch-red), -2px 0 0 var(--glitch-blue);
  }
  94% {
    transform: translate(2px, -1px);
    text-shadow: -2px 0 0 var(--glitch-blue), 2px 0 0 var(--glitch-teal);
  }
  96% {
    transform: translate(-1px, 2px);
    text-shadow: 0 2px 0 var(--glitch-pink), 0 -2px 0 var(--glitch-teal);
  }
  98% {
    transform: translate(1px, -2px);
    text-shadow: 0 0 16px rgba(255, 105, 180, 0.9);
  }
}

@keyframes logo-glow-pulse {
  0%, 100% {
    filter: brightness(1);
    opacity: 1;
  }
  50% {
    filter: brightness(1.1);
    opacity: 0.95;
  }
}

.glitch-pits-logo {
  animation: logo-glitch 4s ease-in-out infinite, logo-glow-pulse 3s ease-in-out infinite;
  display: inline-block;
}

/* Landing page: floating characters (DGB-style) */
@keyframes landing-float {
  0%, 100% { transform: translateY(0) translateX(0) scale(1); }
  25% { transform: translateY(-8px) translateX(4px) scale(1.05); }
  50% { transform: translateY(4px) translateX(-6px) scale(0.98); }
  75% { transform: translateY(-4px) translateX(-4px) scale(1.02); }
}

.landing-character {
  animation: landing-float 6s ease-in-out infinite;
  cursor: pointer;
  transition: filter 0.2s, transform 0.2s;
}
.landing-character:hover {
  filter: drop-shadow(0 0 12px var(--glitch-teal)) drop-shadow(0 0 24px var(--glitch-pink));
  animation-play-state: paused;
  transform: scale(1.15);
}

/* Landing: starfield (Mememator-style) */
.landing-starfield {
  background-image: radial-gradient(1.5px 1.5px at 20% 30%, rgba(255,255,255,0.4), transparent),
    radial-gradient(1px 1px at 60% 70%, rgba(255,255,255,0.3), transparent),
    radial-gradient(1.5px 1.5px at 80% 20%, rgba(255,255,255,0.35), transparent),
    radial-gradient(1px 1px at 40% 80%, rgba(255,255,255,0.25), transparent);
  background-size: 200px 180px, 280px 220px, 240px 200px, 260px 190px;
  animation: starfield-drift 30s linear infinite;
}
@keyframes starfield-drift {
  0% { background-position: 0 0, 0 0, 0 0, 0 0; }
  100% { background-position: -200px 0, -280px 0, -240px 0, -260px 0; }
}

/* Landing: COLORS-style neon streak behind title */
.landing-neon-streak {
  position: absolute;
  left: 50%;
  top: 50%;
  width: 120%;
  max-width: 800px;
  height: 140px;
  transform: translate(-50%, -50%);
  background: linear-gradient(
    90deg,
    transparent 0%,
    rgba(255, 105, 180, 0.08) 20%,
    rgba(0, 212, 170, 0.12) 40%,
    rgba(255, 215, 0, 0.06) 50%,
    rgba(0, 212, 170, 0.12) 60%,
    rgba(255, 105, 180, 0.08) 80%,
    transparent 100%
  );
  filter: blur(40px);
  animation: neon-pulse 4s ease-in-out infinite;
  pointer-events: none;
}
@keyframes neon-pulse {
  0%, 100% { opacity: 0.7; transform: translate(-50%, -50%) scale(1); }
  50% { opacity: 1; transform: translate(-50%, -50%) scale(1.05); }
}
